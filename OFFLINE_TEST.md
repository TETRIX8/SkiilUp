# Тестирование офлайн функциональности

## Как протестировать офлайн режим

### 1. Подготовка данных
1. Откройте приложение в браузере
2. Убедитесь, что у вас есть интернет-соединение
3. Войдите в систему
4. Перейдите на страницу профиля → вкладка "Offline"
5. Нажмите "Тестировать офлайн функциональность" - это загрузит данные в кэш

### 2. Тестирование офлайн режима
1. Отключите интернет (в настройках браузера или отключите Wi-Fi)
2. Обновите страницу (F5)
3. Приложение должно работать с кэшированными данными

### 3. Что должно работать в офлайн режиме
- ✅ Просмотр дисциплин
- ✅ Просмотр тем
- ✅ Просмотр заданий
- ✅ Просмотр достижений
- ✅ Навигация по приложению
- ✅ Статус "Офлайн" в интерфейсе

### 4. Что НЕ работает в офлайн режиме
- ❌ Отправка новых заданий
- ❌ Создание новых комментариев
- ❌ Синхронизация с сервером
- ❌ Загрузка новых данных

### 5. Восстановление онлайн режима
1. Включите интернет
2. Приложение автоматически переключится в онлайн режим
3. Нажмите кнопку "Обновить" для синхронизации данных

## Отладка

### Проверка кэша в браузере
1. Откройте DevTools (F12)
2. Перейдите на вкладку "Application" → "Storage" → "IndexedDB"
3. Найдите базу данных "SkillUpDB"
4. Проверьте наличие данных в таблицах:
   - disciplines
   - topics
   - assignments
   - achievements

### Консольные сообщения
В консоли браузера вы должны видеть:
- "Loading data from local cache..." - при загрузке из кэша
- "Loaded X disciplines from cache" - количество загруженных элементов
- "Offline mode - using cached data" - при работе в офлайн режиме

## Возможные проблемы

### Проблема: "No cached data available"
**Решение:** Сначала подключитесь к интернету и загрузите данные, затем отключите интернет.

### Проблема: Приложение не работает в офлайн режиме
**Решение:** 
1. Проверьте, что Service Worker зарегистрирован
2. Убедитесь, что данные были загружены в кэш
3. Проверьте консоль на наличие ошибок

### Проблема: Данные не синхронизируются при восстановлении соединения
**Решение:** Нажмите кнопку "Обновить" в интерфейсе или обновите страницу.
